{% extends "template.html" %}

{% set active_page = "about" %}

{% block content %}
<div class="container shadow-lg rounded fadeIn p-5 my-5 bg-light" id="content">
    <h2 class="text-center text-primary fw-bold">Training a Machine Learning Model to Predict Diabetes Diagnosis</h2>
    <hr class="my-4">
    <p class="lead">This project utilizes machine learning to predict a patient's diabetes diagnosis status based on questionnaire responses regarding various symptoms.</p>
    <p>The data used to train the model is obtained from the University of California Irvine Machine Learning Repositories. The official site hosting the data can be found <a href='https://archive.ics.uci.edu/ml/datasets/Early+stage+diabetes+risk+prediction+dataset.' target='_blank' class='url text-decoration-none fw-bold text-danger'>here</a>.</p>
    <br>
    <h4 class="text-secondary fw-semibold">Cleaning and Transforming the Data</h4>
    <hr>
    <p>Here is what the first five lines of the dataset look like before modifications:</p>
    <div class="table-responsive bg-white shadow-sm rounded p-3">
        <table class="table table-striped table-bordered text-center">
            <thead class="table-dark">
                <tr><th>Age</th><th>Gender</th><th>Polyuria</th><th>Polydipsia</th><th>sudden weight loss</th><th>class</th></tr>
            </thead>
            <tbody>
                <tr><td>40</td><td>Male</td><td>No</td><td>Yes</td><td>No</td><td>Positive</td></tr>
                <tr><td>58</td><td>Male</td><td>No</td><td>No</td><td>No</td><td>Positive</td></tr>
                <tr><td>41</td><td>Male</td><td>Yes</td><td>No</td><td>No</td><td>Positive</td></tr>
                <tr><td>45</td><td>Male</td><td>No</td><td>No</td><td>Yes</td><td>Positive</td></tr>
            </tbody>
        </table>
    </div>
    <br>
    <p class="fw-light">Binary values (Yes/No, Male/Female) are converted to True/False for machine learning processing.</p>
    <div class="table-responsive bg-white shadow-sm rounded p-3">
        <table class="table table-striped table-bordered text-center">
            <thead class="table-dark">
                <tr><th>Age</th><th>Gender</th><th>Polyuria</th><th>Polydipsia</th><th>sudden weight loss</th><th>class</th></tr>
            </thead>
            <tbody>
                <tr><td>40</td><td>True</td><td>False</td><td>True</td><td>False</td><td>True</td></tr>
                <tr><td>58</td><td>True</td><td>False</td><td>False</td><td>False</td><td>True</td></tr>
                <tr><td>41</td><td>True</td><td>True</td><td>False</td><td>False</td><td>True</td></tr>
                <tr><td>45</td><td>True</td><td>False</td><td>False</td><td>True</td><td>True</td></tr>
            </tbody>
        </table>
    </div>
    <br>
    <div class="text-center">
        <img class="img-fluid shadow rounded" src="{{ url_for('static', filename='confusion_matrix.png') }}"/>
    </div>
    <br>
    <h4 class="text-secondary fw-semibold">Feature Selection & Model Training</h4>
    <hr>
    <p>After feature pruning, the dataset is reduced to key indicators. The selected features are displayed below:</p>
    <div class="table-responsive bg-white shadow-sm rounded p-3">
        <table class="table table-striped table-bordered text-center">
            <thead class="table-dark">
                <tr><th>Age</th><th>Gender</th><th>Polyuria</th><th>Polydipsia</th><th>Obesity</th><th>class</th></tr>
            </thead>
            <tbody>
                <tr><td>40</td><td>True</td><td>False</td><td>True</td><td>True</td><td>True</td></tr>
                <tr><td>58</td><td>True</td><td>False</td><td>False</td><td>False</td><td>True</td></tr>
                <tr><td>41</td><td>True</td><td>True</td><td>False</td><td>False</td><td>True</td></tr>
            </tbody>
        </table>
    </div>
    <br>
    <div class="text-center">
        <img class="img-fluid shadow rounded" src="{{ url_for('static', filename='feature_bar_graph.png') }}"/>
    </div>
    <br>
    <h4 class="text-secondary fw-semibold">Model Comparison</h4>
    <hr>
    <p>The Random Forest Classifier showed the highest accuracy. See the comparison below:</p>
    <div class="text-center">
        <img class="img-fluid shadow rounded" src="{{ url_for('static', filename='model_comparison.png') }}"/>
    </div>
    <br>
    <h4 class="text-secondary fw-semibold">Final Model Performance</h4>
    <hr>
    <div class="table-responsive bg-white shadow-sm rounded p-3">
        <table class="table table-striped table-bordered text-center">
            <thead class="table-dark">
                <tr><th>Metric</th><th>Score</th></tr>
            </thead>
            <tbody>
                <tr><td>Accuracy</td><td>0.969</td></tr>
                <tr><td>Precision</td><td>0.973</td></tr>
                <tr><td>Recall</td><td>0.975</td></tr>
            </tbody>
        </table>
    </div>
    <br>
    <p class="fw-light">Recall is prioritized as it is critical in medical diagnoses to reduce false negatives.</p>
    <br>
    <h4 class="text-secondary fw-semibold">Deployment</h4>
    <hr>
    <p>The final model is now ready for deployment in a web application.</p>
    <p>For complete implementation details, view the <a href="https://github.com/Dylan-Cairns/ML-Diabetes-Prediction/blob/master/diabetes_jupyter_notebook.ipynb" class="text-decoration-none fw-bold text-danger">Jupyter Notebook</a>.</p>
</div>
{% endblock %}
